FROM public.ecr.aws/lambda/python:3.11

# Install git
RUN yum install -y git

# Copy requirements
COPY requirements_simple.txt ${LAMBDA_TASK_ROOT}/
RUN pip install -r ${LAMBDA_TASK_ROOT}/requirements_simple.txt

# Copy agent code
COPY agent_worker.py ${LAMBDA_TASK_ROOT}/

# Set handler
CMD ["agent_worker.lambda_handler"]
